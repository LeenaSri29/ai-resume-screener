<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Resume Screening Results</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { background: #f4f6f9; }
h1 { color: #0d6efd; }
.table thead { background: #0d6efd; color: white; }
.btn-success { background: #198754; border: none; }
</style>
</head>
<body>
<div class="container py-5">
  <h1 class="mb-4 text-center">Resume Screening Results</h1>
  <table class="table table-bordered text-center">
    <thead>
      <tr>
        <th>Candidate</th>
        <th>Overall Score</th>
        <th>Skill Match %</th>
        <th>Keyword Relevance %</th>
        <th>Matched Skills</th>
        <th>Missing Skills</th>
        <th>Download Report</th>
      </tr>
    </thead>
    <tbody>
      {% for r in results %}
      <tr>
        <td>{{ r.filename }}</td>
        <td>{{ r.overall_score }}%</td>
        <td>{{ r.skill_match }}%</td>
        <td>{{ r.keyword_score }}%</td>
        <td>{{ r.matched_skills|join(', ') }}</td>
        <td>{{ r.missing_skills|join(', ') }}</td>
        <td><a href="/download/{{ r.report_path.split('/')[-1] }}" class="btn btn-success btn-sm">Download</a></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <div class="text-center mt-4">
    <a href="/" class="btn btn-secondary">Back to Upload</a>
  </div>
</div>
</body>
</html>
